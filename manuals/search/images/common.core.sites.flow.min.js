$("head").append('<style type="text/css">#overlay{width:100%;height:100%;top:0;left:0;z-index:99997;background:black;position:fixed;opacity:.9;pointer-events:none}#close-dialog{text-align:left;position:absolute;width:400px;height:200px;z-index:99999;background:#ebebeb;top:0;left:0;bottom:0;right:0;}#close-dialog p{padding: 25px 25px 50px 25px; margin:0;font-size:18px;}#close-dialog .dialog-close{border: 1px solid #acacac; color: #acacac; padding: 15px 30px; margin: 0 0 0 140px;}#close-dialog .dialog-keep{background: #0072bc; border: 1px solid #0072bc; color: #fff; padding: 15px 30px; margin: 0 0 0 25px; }#close-dialog button:hover{cursor:pointer;}@-webkit-keyframes bounce{0%,100%{-webkit-transform:translateY(0);transform:translateY(0)}50%{-webkit-transform:translateY(10px);transform:translateY(10px)}}@keyframes bounce{0%,100%{-webkit-transform:translateY(0);transform:translateY(0)}50%{-webkit-transform:translateY(10px);transform:translateY(10px)}}#instruction{width:350px;position:fixed;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:sans-serif;font-size:14px;z-index:99999;display:none}#instruction p{margin-bottom:10px}#instruction .instruction-arrow{background:url(images/arrow.png) no-repeat;width:68px;height:91px;margin:0 auto 20px;-webkit-animation:bounce 1s infinite;animation:bounce 1s infinite}#instruction .instruction-description{background:#f9f9f9;background:-webkit-linear-gradient(top,#f9f9f9 0,#eee 100%);background:-webkit-gradient(linear,left top,left bottom,from(#f9f9f9),to(#eee));background:-o-linear-gradient(top,#f9f9f9 0,#eee 100%);background:linear-gradient(to bottom,#f9f9f9 0,#eee 100%);position:relative;padding:20px 10px 20px 70px;border-radius:5px;-webkit-box-shadow:0 0 10px rgba(0,0,0,.2);box-shadow:0 0 10px rgba(0,0,0,.2)}#instruction .instruction-description:before{content:"";position:absolute;background:url(images/checkmark.png) no-repeat;width:34px;height:34px;top:25px;left:20px}#instruction .instruction-description p strong{font-family:sans-serif;color:#000}</style>');
$(document).ready(function() {
 var d = new Date();
 var c = d.getFullYear();
 $overlay = $('<div id="overlay"></div>');
 $overlay.hide();
 $("body").append($overlay);
 $("body").on("focus", function() {
  disablePopup()
 });
 $("body").on("click", function() {
  disablePopup()
 });
 if ($(".footer-details").length) {
  var b = $(".footer-details").data("site");
  $(".footer-details").html("<p><span>&copy;" + c + ". All Rights Reserved. </span></p>")
 }
 if ($(".global-disclaimer").length) {
  var e = $(".global-disclaimer").data("site");
  var f = $(".global-disclaimer").data("product");
  var a = $(".global-disclaimer").data("closing");
  $(".global-disclaimer").html("")
 }
 $(".modalpopup,.modal").fancybox({
  maxWidth: "70%",
  maxHeight: "70%",
  autoSize: true,
  closeClick: false,
  openEffect: "fade",
  closeEffect: "fade"
 });
 $(".close").click(function() {
  $.fancybox.close()
 });
 $("input").keypress(function(g) {
  if (g.which == 13) {
   g.preventDefault();
   initiateProcess()
  }
 })
});

function browser_info() {
 var b = navigator.userAgent,
  a, c = b.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
 if (/trident/i.test(c[1])) {
  a = /\brv[ :]+(\d+)/g.exec(b) || [];
  return {
   name: "MSIE ",
   version: (a[1] || "")
  }
 }
 if (c[1] === "Chrome") {
  a = b.match(/\bOPR\/(\d+)/);
  if (a != null) {
   return {
    name: "Opera",
    version: a[1]
   }
  }
 }
 a = b.match(/\bEdge\/(\d+(.\d+)+)/i);
 if (a != null) {
  return {
   name: "Edge",
   version: a[1]
  }
 }
 c = c[2] ? [c[1], c[2]] : [navigator.appName, navigator.appVersion, "-?"];
 if ((a = b.match(/version\/(\d+)/i)) != null) {
  c.splice(1, 1, a[1])
 }
 return {
  name: c[0],
  version: c[1]
 }
}
var browser = browser_info();

function os() {
 var a = "unknown";
 if (navigator.userAgent.indexOf("Win") != -1) {
  a = "windows"
 }
 if (navigator.userAgent.indexOf("Mac") != -1) {
  a = "mac"
 }
 if (navigator.userAgent.indexOf("Linux") != -1) {
  a = "linus"
 }
 if (navigator.userAgent.indexOf("Android") != -1) {
  a = "android"
 }
 if (navigator.userAgent.indexOf("like Mac") != -1) {
  a = "ios"
 }
 return a
}
var os = os();

function goFlow(a) {
 this.browser = browser;
 if (this.browser.name === "Chrome") {
  $.fancybox.close();
  runChrome(a)
 } else {
  if (this.browser.name === "Safari") {
   runSafari(a)
  } else {
   if (this.browser.name === "Edge") {
    runEdge(a)
   } else {
    if (this.browser.name === "Firefox") {
     runDefault(a)
    } else {
     if (this.browser.name === "MSIE") {
      runDefault(a)
     } else {
      runDefault(a)
     }
    }
   }
  }
 }
}

function runEdge(a) {
 if (typeof a.postProcess === "undefined") {
  return
 }
 if (a.postProcess === "redirect") {
  noTrackRedirect(a.postPage)
 } else {
  noTrackPost(a.postPage)
 }
}

function runSafari(a) {
 if (this.browser.version < 12) {
  installToolbar()
 }
 if (typeof a.postProcess === "undefined") {
  return
 }
 if (a.postProcess === "redirect") {
  trackClickThenRedirect(a.postPage)
 } else {
  trackClickThenPost(a.postPage)
 }
}

function runDefault(a) {
 installToolbar();
 if (typeof a.postProcess === "undefined") {
  return
 }
 if (a.postProcess === "redirect") {
  trackClickThenRedirect(a.postPage)
 } else {
  trackClickThenPost(a.postPage)
 }
}
var popupWindow = null;

function runChrome(f, e) {
 var b = trackingurl;
 if (typeof f.chromeAudio === "undefined") {
  this.audio = false
 } else {
  this.audio = f.chromeAudio
 }
 if (typeof f.chromeArrow === "undefined") {
  this.arrow = false
 } else {
  this.arrow = f.chromeArrow
 }
 if (e === "yes") {
  b = replaceUrlParam(b, "s5", "Dialog+Close")
 }
 var a = 350;
 var c = window.innerWidth;
 if (os == "Mac") {
  var l = 290
 } else {
  var l = 260
 }
 var h = window.outerHeight - window.innerHeight;
 var g = window.top.screenY;
 var j = window.top.screenX;
 if ($("#audio-spokesperson").length === 0 && this.audio !== false) {
  $("body").append('<audio id="audio-spokesperson" autoplay style="position: fixed;bottom: 0;left: 0;opacity: .8;z-index:999999;"><source src="' + this.audio + '" type="audio/mpeg"></audio>')
 }
 if ($("#instruction").length == 0) {
  var i = $('<div id="instruction"><div class="instruction-arrow"></div><div class="instruction-description"><p>You\'re almost done!</p><p>Click <strong>"Add to Chrome"</strong> to complete the installation.</p></div></div>').hide();
  $("body").append(i)
 } else {
  var i = $("#instruction")
 }
 i.css({
  top: l + 20,
  left: window.outerWidth < 1000 ? window.outerWidth - 250 : (window.outerWidth / 2) + 245
 });
 $("#overlay").show();
 i.show();
 trackClick();
 popupWindow = window.open(b, "_blank", "directories=no, status=no, menubar=no, scrollbars=yes, resizable=no,width=" + c + ",height=" + l + ",left=" + j + ",top=" + g);
 var d = function() {
  clearInterval(k);
  $("#instruction").hide();
  runCloseDialog(f)
 };
 var k = setInterval(function() {
  if (popupWindow.closed) {
   d()
  }
 }, 500)
}

function replaceUrlParam(a, c, d) {
 if (d == null) {
  d = ""
 }
 var b = new RegExp("\\b(" + c + "=).*?(&|#|$)");
 if (a.search(b) >= 0) {
  return a.replace(b, "$1" + d + "$2")
 }
 a = a.replace(/[?#]$/, "");
 return a + (a.indexOf("?") > 0 ? "&" : "?") + c + "=" + d
}

function disablePopup() {
 if (popupWindow && !popupWindow.closed) {
  popupWindow.focus()
 }
}

function runCloseDialog(b) {
 if (typeof b.dialogTitle === "undefined") {
  this.title = ""
 } else {
  this.title = "<strong>" + b.dialogTitle + "</strong><br />"
 }
 if (typeof b.dialogSubTitle === "undefined") {
  this.subtitle = ""
 } else {
  this.subtitle = b.dialogSubTitle
 }
 $("#overlay").show();
 var d = (window.innerHeight / 2) - 100;
 var a = (window.top.outerWidth / 2) - 200;
 var c = $('<div id="close-dialog"><p>' + this.title + this.subtitle + '</p><button class="dialog-close">Yes</button><button class="dialog-keep">No</button></div>');
 c.show();
 $("body").append(c);
 c.css({
  top: d,
  left: a
 });
 $(".dialog-close").on("click", function() {
  closeDialog();
  processChrome(b)
 });
 $(".dialog-keep").on("click", function() {
  closeDialog();
  runChrome(b, "yes")
 })
}

function closeDialog() {
 $("#overlay").hide();
 $("#close-dialog").remove()
}

function processChrome(a) {
 if (typeof a.postProcess === "undefined") {
  return
 }
 if (a.postProcess === "redirect") {
  noTrackRedirect(a.postPage)
 } else {
  noTrackPost(a.postPage)
 }
}

function noTrackPost(a) {
 $(a).submit()
}

function noTrackRedirect(a) {
 window.location = a
}

function trackClick() {
 if (clickurl) {
  $.ajax({
   type: "POST",
   url: clickurl,
   crossDomain: true,
   success: function(a, c, b) {
    delete_cookie("site");
    delete_cookie("impid");
    return
   },
   error: function(a, c, b) {
    return
   }
  })
 }
}

function trackClickThenPost(a) {
 if (clickurl) {
  $.ajax({
   type: "POST",
   url: clickurl,
   crossDomain: true,
   success: function(b, d, c) {
    delete_cookie("site");
    delete_cookie("impid");
    if ($(a).length == 1) {
     $(a).submit()
    }
    return
   },
   error: function(b, d, c) {
    if ($(a).length == 1) {
     $(a).submit()
    }
    return
   }
  })
 }
}

function trackClickThenRedirect(a) {
 if (clickurl) {
  $.ajax({
   type: "POST",
   url: clickurl,
   crossDomain: true,
   success: function(b, d, c) {
    delete_cookie("site");
    delete_cookie("impid");
    if (a.length > 0) {
     window.location = a
    }
    return
   },
   error: function(b, d, c) {
    if (a.length > 0) {
     window.location = a
    }
    return
   }
  })
 }
}

function delete_cookie(a) {
 document.cookie = a + "=; expires=Thu, 01 Jan 1970 00:00:01 GMT;";
 return
};